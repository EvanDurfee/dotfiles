## Common aliases

# Bitwarden flatpak CLI
if flatpak info com.bitwarden.desktop >/dev/null 2>&1; then
	bw_shim() {
		flatpak run --command=bw com.bitwarden.desktop "$@"
	}
	compdef _bw bw_shim
	alias bw='bw_shim'
fi

# Enable colors
alias ls='ls --color=auto'
alias ll='ls -l'
alias la='ls -Al'
alias dir='dir --color=auto'
alias vdir='vdir --color=auto'
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias ip='ip --color=auto'
alias diff='diff --color=auto'

# Colored Manpages
man() {
	LESS_TERMCAP_mb=$'\E[01;32m' \
	LESS_TERMCAP_md=$'\E[01;32m' \
	LESS_TERMCAP_me=$'\E[0m' \
	LESS_TERMCAP_se=$'\E[0m' \
	LESS_TERMCAP_so=$'\E[01;47;34m' \
	LESS_TERMCAP_ue=$'\E[0m' \
	LESS_TERMCAP_us=$'\E[01;36m' \
	GROFF_NO_SGR=1 \
	command man "$@"
}

# Better cp for COW supporting filesystems
alias cp='cp --reflink=auto'

# Enable alias expansion when using sudo
# alias sudo='sudo '

# Eza aliases
alias eza='LS_COLORS= eza --smart-group --header'
alias x='eza --all --long --header --group --group-directories-first'
alias xt='x --tree'
# Questionable alias! If this breaks things in practice, maybe revert
alias ls='eza'

# Ignore certail dirs by default
alias rg='rg -g "!{/proc,/sys,**/.git,/sysroot,/ostree}"'
alias fd='fd --exclude /proc --exclude /sys'

# Shorter open
alias open='xdg-open'

# saner defaults
#alias cp="cp -i"                                                # Confirm before overwriting something
#alias df='df -h'                                                # Human-readable sizes
#alias free='free -m'                                            # Show sizes in MB

alias sctl='systemctl'
alias jctl='journalctl'
alias userctl='systemctl --user'

alias cfg='chezmoi'
#alias cfg='/bin/git --git-dir=$HOME/.local/share/dotfiles --work-tree=$HOME'
#alias cfg-update='cfg pull && cfg submodule update --init --recursive'

alias k='kubectl'
alias d='docker'
alias h='helm'

alias dellman-thunderbolt='ddcutil setvcp 60 0x1b'
alias dellman-dp='ddcutil setvcp 60 0x0f'
alias dellman-hdmi='ddcutil setvcp 60 0x11'
